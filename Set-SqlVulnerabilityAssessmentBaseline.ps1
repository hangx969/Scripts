Set-SqlVulnerabilityAssessmentBaseline -SubscriptionId f99c3d28-250e-4c4a-b0b6-92edb0849788 -ResourceGroupName hangxsql-rg -ServerName hangxsqlservertest3 -DatabaseName hangxsqldbtest3 -Body '{  "properties": {    "latestScan": true,    "results": {}  }}'

Set-SqlVulnerabilityAssessmentBaseline -SubscriptionId f99c3d28-250e-4c4a-b0b6-92edb0849788 -ResourceGroupName hangxsql-rg -ServerName hangxsqlservertest3 -DatabaseName hangxsqldbtest3 -Body '{
    "properties": {
      "latestScan": false,
      "results": {
        "VA2062": [
          [
            "AllowAll",
            "0.0.0.0",
            "255.255.255.255"
          ]
        ]
      }
    }
  }'

Get-SqlVulnerabilityAssessmentBaseline -SubscriptionId f99c3d28-250e-4c4a-b0b6-92edb0849788 -ResourceGroupName hangxsql-rg -ServerName hangxsqlservertest3 -DatabaseName hangxsqldbtest3


Invoke-SqlVulnerabilityAssessmentScan -SubscriptionId f99c3d28-250e-4c4a-b0b6-92edb0849788 -ResourceGroupName hangxsql-rg -ServerName hangxsqlservertest -DatabaseName hangxsqldbtest
Invoke-SqlVulnerabilityAssessmentScan -SubscriptionId f99c3d28-250e-4c4a-b0b6-92edb0849788 -ResourceGroupName hangxsql-rg -ServerName hangxsqlservertest2 -DatabaseName hangxsqldbtest2
Invoke-SqlVulnerabilityAssessmentScan -SubscriptionId f99c3d28-250e-4c4a-b0b6-92edb0849788 -ResourceGroupName hangxsql-rg -ServerName hangxsqlservertest3 -DatabaseName hangxsqldbtest3

Get-SqlVulnerabilityAssessmentScans -SubscriptionId f99c3d28-250e-4c4a-b0b6-92edb0849788 -ResourceGroupName hangxsql-rg -ServerName hangxsqlservertest3 -DatabaseName hangxsqldbtest3 -ScanId latest
